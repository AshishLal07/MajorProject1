{let e=function(){let e=$("#new-post-form");e.submit((function(s){s.preventDefault(),$.ajax({type:"post",url:"/post/create",data:e.serialize(),success:function(e){console.log(e);let s=t(e.data.post,e.data.name);$("#posts-display-container > ul").prepend(s),n($(".delete-post-btn")[0]),o("Post uploaded"),console.log($(".toggle-like-button",s)[0]),new ToggleLikes($(".toggle-like-button")[0])},error:function(e){console.log(e.resposeText)}})}))},t=function(e,t){return`<li id="post-${e._id}">\n                    <p class="user">\n                    User: ${t}\n                    </p>\n                    <small> <a class="delete-post-btn" href="/post/destroy/${e._id}">Delete</a>\n                    </small>\n                    <small>\n                         <a class="toggle-like-button" data-likes="${e.Like.length}" href="/likes/toggle/?id=${e._id}&type=Post">0 Likes</a>\n                    </small>\n                        \n                    <p class="content">${e.content}</p>\n                \n                    <div class="post-comments-container">\n                        \n                            <form id="new-comment-form" action='/comment/create' method="post">\n                                <Label for="new-comment-content">Comment: </Label>\n                                <textarea name="content" id="new-comment-content" cols="30" rows="1" placeholder="Type here.." required></textarea>\n                                <input type="hidden" value="${e._id}" name="post">\n                                <input type="submit" value="Add Comment">\n                                \n                            </form>\n                        \n                        <div class="post-comments-list">\n                            <ul id="post-comment-${e._id}">\n                            </ul>\n                \n                        </div>\n                    </div>\n                </li>\n                `},n=function(e){$(e).click((function(t){console.log(t),t.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(e){console.log(e),$(`#post-${e.data.post_id}`).remove(),o("Post Deleted!")},error:function(e){console.log(e.resposeText)}})}))},o=function(e){new Noty({theme:"relax",text:e,type:"success",Layout:"topRight",timeout:1500}).show()};e()}